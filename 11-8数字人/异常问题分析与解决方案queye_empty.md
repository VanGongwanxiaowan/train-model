# æ•°å­—äººæœåŠ¡ `_queue.Empty` å¼‚å¸¸é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜æ¦‚è¿°

### é—®é¢˜ç°è±¡
- **é”™è¯¯ç±»å‹**: `_queue.Empty` å¼‚å¸¸
- **é”™è¯¯ä½ç½®**: `trans_dh_service.py` ç¬¬1257è¡Œ
- **é”™è¯¯å½±å“**: ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œä½†é”™è¯¯ä¿¡æ¯ä¸ºç©ºå­—ç¬¦ä¸²
- **é”™è¯¯é¢‘ç‡**: å¶å‘æ€§ï¼Œä½†åœ¨é«˜è´Ÿè½½æ—¶æ›´å®¹æ˜“å‡ºç°

### é”™è¯¯æ—¥å¿—
```
Traceback (most recent call last):
  File "trans_dh_service.py", line 1257, in trans_dh_service.TransDhTask.work
  File "/opt/conda/envs/human/lib/python3.8/multiprocessing/queues.py", line 108, in get
    raise Empty
_queue.Empty
```

### é—®é¢˜åæœ
1. **é”™è¯¯ä¿¡æ¯ä¸¢å¤±**ï¼šä»»åŠ¡å¤±è´¥ä½†æ— æ³•è·å–è¯¦ç»†é”™è¯¯åŸå› 
2. **ä»»åŠ¡çŠ¶æ€å¼‚å¸¸**ï¼šä»»åŠ¡çŠ¶æ€ä¸º `Status.error`ï¼Œä½†é”™è¯¯ä¿¡æ¯ä¸ºç©º
3. **èµ„æºæ³„æ¼**ï¼šå‡ºç° `15 leaked semaphore objects` è­¦å‘Š
4. **è¯Šæ–­å›°éš¾**ï¼šæ— æ³•å¿«é€Ÿå®šä½é—®é¢˜æ ¹æº

## ğŸ” é—®é¢˜æ ¹æºåˆ†æ

### 1. æ¶æ„åˆ†æ

#### 1.1 å¤šè¿›ç¨‹æ¶æ„
HeyGem SDK ä½¿ç”¨å¤šè¿›ç¨‹æ¶æ„è¿›è¡Œæ•°å­—äººç”Ÿæˆï¼š
- **ä¸»è¿›ç¨‹**: FastAPI æœåŠ¡è¿›ç¨‹ï¼Œå¤„ç† HTTP è¯·æ±‚
- **å·¥ä½œè¿›ç¨‹**: æ•°å­—äººç”Ÿæˆè¿›ç¨‹ï¼Œæ‰§è¡Œ GPU æ¨ç†
- **è§†é¢‘å†™å…¥è¿›ç¨‹**: è§†é¢‘å¸§å¤„ç†è¿›ç¨‹ï¼Œå¤„ç†ç”Ÿæˆçš„è§†é¢‘å¸§
- **é€šä¿¡æ–¹å¼**: ä½¿ç”¨ `multiprocessing.Queue` è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡

#### 1.2 è¿›ç¨‹é€šä¿¡æµç¨‹
```
ä¸»è¿›ç¨‹ (FastAPI)
    â†“
work() æ–¹æ³•è°ƒç”¨
    â†“
åˆ›å»ºå·¥ä½œè¿›ç¨‹å’Œè§†é¢‘å†™å…¥è¿›ç¨‹
    â†“
å·¥ä½œè¿›ç¨‹ â†’ [output_imgs_queue] â†’ è§†é¢‘å†™å…¥è¿›ç¨‹
    â†“
è§†é¢‘å†™å…¥è¿›ç¨‹ â†’ [result_queue] â†’ ä¸»è¿›ç¨‹
    â†“
æ›´æ–° task_dic[code] = (Status, int, result_path, message)
```

### 2. é—®é¢˜æ ¹æº

#### 2.1 é˜Ÿåˆ—è·å–å¼‚å¸¸å¤„ç†ä¸å½“
**é—®é¢˜ä½ç½®**: `trans_dh_service.py` ç¬¬1257è¡Œ

**é—®é¢˜ä»£ç **ï¼ˆæ¨æµ‹ï¼‰:
```python
# åœ¨ trans_dh_service.py çš„ work æ–¹æ³•ä¸­
try:
    result = result_queue.get()  # æ²¡æœ‰è®¾ç½® timeout
    # å¤„ç†ç»“æœ
except Empty:
    # å¼‚å¸¸è¢«æ•è·ï¼Œä½†é”™è¯¯ä¿¡æ¯æ²¡æœ‰æ­£ç¡®è®¾ç½®
    task_dic[code] = (Status.error, 0, "", "")  # é”™è¯¯ä¿¡æ¯ä¸ºç©º
```

**é—®é¢˜åˆ†æ**:
1. **é˜Ÿåˆ—ä¸ºç©º**: å½“è§†é¢‘å†™å…¥è¿›ç¨‹å¼‚å¸¸é€€å‡ºæˆ–æœªæ­£ç¡®å‘é€ç»“æœæ—¶ï¼Œé˜Ÿåˆ—ä¸ºç©º
2. **å¼‚å¸¸æ•è·**: `Empty` å¼‚å¸¸è¢«æ•è·ï¼Œä½†é”™è¯¯ä¿¡æ¯æ²¡æœ‰è¢«æ­£ç¡®æå–å’Œä¼ é€’
3. **é”™è¯¯ä¿¡æ¯ä¸¢å¤±**: å¯¼è‡´ `task_dic[code]` ä¸­çš„é”™è¯¯ä¿¡æ¯ä¸ºç©ºå­—ç¬¦ä¸²

#### 2.2 è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†é—®é¢˜
**é—®é¢˜è¡¨ç°**:
- å·¥ä½œè¿›ç¨‹æˆ–è§†é¢‘å†™å…¥è¿›ç¨‹å¯èƒ½åœ¨ä»»åŠ¡å®Œæˆå‰å¼‚å¸¸é€€å‡º
- è¿›ç¨‹é€€å‡ºåï¼Œé˜Ÿåˆ—å¯èƒ½ä¸ºç©ºï¼Œå¯¼è‡´ä¸»è¿›ç¨‹ç­‰å¾…è¶…æ—¶
- èµ„æºæ²¡æœ‰æ­£ç¡®æ¸…ç†ï¼Œå¯¼è‡´èµ„æºæ³„æ¼

#### 2.3 é”™è¯¯ä¿¡æ¯ä¼ é€’æœºåˆ¶ä¸å®Œå–„
**é—®é¢˜è¡¨ç°**:
- å­è¿›ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯æ²¡æœ‰æ­£ç¡®ä¼ é€’åˆ°ä¸»è¿›ç¨‹
- `task_dic` æ›´æ–°æœºåˆ¶ä¸å®Œå–„ï¼Œé”™è¯¯ä¿¡æ¯å¯èƒ½ä¸¢å¤±
- å¼‚å¸¸å †æ ˆä¿¡æ¯æ²¡æœ‰è¢«æ­£ç¡®è®°å½•

### 3. è§¦å‘æ¡ä»¶

#### 3.1 é«˜è´Ÿè½½åœºæ™¯
- å¤šä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œèµ„æºç«äº‰å¯èƒ½å¯¼è‡´è¿›ç¨‹å¼‚å¸¸
- é˜Ÿåˆ—ç¼“å†²åŒºæ»¡æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¿›ç¨‹é˜»å¡

#### 3.2 èµ„æºä¸è¶³
- GPU å†…å­˜ä¸è¶³
- ç³»ç»Ÿå†…å­˜ä¸è¶³
- æ–‡ä»¶å¥æŸ„ä¸è¶³

#### 3.3 è¿›ç¨‹å¼‚å¸¸é€€å‡º
- å·¥ä½œè¿›ç¨‹å´©æºƒ
- è§†é¢‘å†™å…¥è¿›ç¨‹å´©æºƒ
- è¿›ç¨‹é—´é€šä¿¡ä¸­æ–­

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆè®¾è®¡

### æ–¹æ¡ˆä¸€ï¼šå¢å¼ºé”™è¯¯ä¿¡æ¯æ•è·å’Œä¼ é€’ï¼ˆçŸ­æœŸæ–¹æ¡ˆï¼‰

#### 1.1 æ”¹è¿›é˜Ÿåˆ—å¼‚å¸¸å¤„ç†
**ç›®æ ‡**: ç¡®ä¿é˜Ÿåˆ—å¼‚å¸¸æ—¶èƒ½æ­£ç¡®æ•è·å’Œä¼ é€’é”™è¯¯ä¿¡æ¯

**å®æ–½æ­¥éª¤**:
1. åœ¨ `fastapi_app.py` ä¸­å¢å¼º `write_video_service` å‡½æ•°çš„å¼‚å¸¸å¤„ç†
2. ç¡®ä¿æ‰€æœ‰å¼‚å¸¸éƒ½è¢«æ­£ç¡®æ•è·å¹¶ä¼ é€’åˆ° `result_queue`
3. æ”¹è¿›é”™è¯¯ä¿¡æ¯çš„æ ¼å¼å’Œå†…å®¹

**ä»£ç æ”¹è¿›**:
```python
# åœ¨ write_video_service å‡½æ•°ä¸­
try:
    # ... ç°æœ‰ä»£ç  ...
except Exception as e:
    error_msg = f"è§†é¢‘å¸§é˜Ÿåˆ—å¤„ç†å¼‚å¸¸: {str(e)}\nå †æ ˆä¿¡æ¯: {traceback.format_exc()}"
    logger.error(f"Custom VideoWriter [{work_id}] {error_msg}")
    
    # ç¡®ä¿é”™è¯¯ä¿¡æ¯è¢«æ­£ç¡®ä¼ é€’
    try:
        result_queue.put(
            [False, error_msg],
            timeout=10
        )
    except Exception as put_error:
        logger.error(f"Custom VideoWriter [{work_id}] é”™è¯¯ç»“æœé˜Ÿåˆ—æ”¾å…¥å¤±è´¥: {str(put_error)}")
```

#### 1.2 æ”¹è¿› task_dic æ›´æ–°æœºåˆ¶
**ç›®æ ‡**: ç¡®ä¿é”™è¯¯ä¿¡æ¯èƒ½æ­£ç¡®æ›´æ–°åˆ° `task_dic`

**å®æ–½æ­¥éª¤**:
1. åœ¨ `trans_dh_service.py` çš„ `work` æ–¹æ³•ä¸­ï¼Œå¢å¼ºå¼‚å¸¸å¤„ç†
2. ç¡®ä¿æ‰€æœ‰å¼‚å¸¸éƒ½è¢«æ­£ç¡®æ•è·å¹¶æ›´æ–°åˆ° `task_dic`
3. æ”¹è¿›é”™è¯¯ä¿¡æ¯çš„æ ¼å¼å’Œå†…å®¹

**ä»£ç æ”¹è¿›**ï¼ˆéœ€è¦åœ¨ trans_dh_service.py ä¸­å®ç°ï¼‰:
```python
# åœ¨ work æ–¹æ³•ä¸­
try:
    # ... ç°æœ‰ä»£ç  ...
    result = result_queue.get(timeout=1800)  # è®¾ç½®è¶…æ—¶
    if result[0]:
        # æˆåŠŸ
        task_dic[code] = (Status.success, 0, result[1], "")
    else:
        # å¤±è´¥
        error_msg = result[1] if len(result) > 1 else "æœªçŸ¥é”™è¯¯"
        task_dic[code] = (Status.error, 0, "", error_msg)
except Empty:
    error_msg = f"ç»“æœé˜Ÿåˆ—ä¸ºç©ºï¼Œä»»åŠ¡å¯èƒ½è¶…æ—¶æˆ–è¿›ç¨‹å¼‚å¸¸é€€å‡º"
    logger.error(f"ä»»åŠ¡ {code} {error_msg}")
    task_dic[code] = (Status.error, 0, "", error_msg)
except Exception as e:
    error_msg = f"ä»»åŠ¡æ‰§è¡Œå¼‚å¸¸: {str(e)}\nå †æ ˆä¿¡æ¯: {traceback.format_exc()}"
    logger.error(f"ä»»åŠ¡ {code} {error_msg}")
    task_dic[code] = (Status.error, 0, "", error_msg)
```

### æ–¹æ¡ˆäºŒï¼šå¢åŠ è¿›ç¨‹å¥åº·æ£€æŸ¥ï¼ˆä¸­æœŸæ–¹æ¡ˆï¼‰

#### 2.1 è¿›ç¨‹å¥åº·æ£€æŸ¥æœºåˆ¶
**ç›®æ ‡**: å®šæœŸæ£€æŸ¥è¿›ç¨‹çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°è¿›ç¨‹å¼‚å¸¸

**å®æ–½æ­¥éª¤**:
1. åœ¨ä¸»è¿›ç¨‹ä¸­å®šæœŸæ£€æŸ¥å·¥ä½œè¿›ç¨‹å’Œè§†é¢‘å†™å…¥è¿›ç¨‹çš„çŠ¶æ€
2. å¦‚æœè¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œç«‹å³è®¾ç½®ä»»åŠ¡ä¸ºå¤±è´¥çŠ¶æ€
3. è®°å½•è¿›ç¨‹å¼‚å¸¸é€€å‡ºçš„åŸå› 

**ä»£ç å®ç°**:
```python
# åœ¨ fastapi_app.py ä¸­æ·»åŠ è¿›ç¨‹å¥åº·æ£€æŸ¥
def check_process_health(work_process, video_write_process, task_id):
    """æ£€æŸ¥è¿›ç¨‹å¥åº·çŠ¶æ€"""
    if work_process is not None and not work_process.is_alive():
        error_msg = f"å·¥ä½œè¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œé€€å‡ºç : {work_process.exitcode}"
        logger.error(f"ä»»åŠ¡ {task_id} {error_msg}")
        with task_lock:
            task_instance.task_dic[task_id] = (Status.error, 0, "", error_msg)
        return False
    
    if video_write_process is not None and not video_write_process.is_alive():
        error_msg = f"è§†é¢‘å†™å…¥è¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œé€€å‡ºç : {video_write_process.exitcode}"
        logger.error(f"ä»»åŠ¡ {task_id} {error_msg}")
        with task_lock:
            task_instance.task_dic[task_id] = (Status.error, 0, "", error_msg)
        return False
    
    return True
```

#### 2.2 è¿›ç¨‹ç›‘æ§çº¿ç¨‹
**ç›®æ ‡**: åœ¨ä»»åŠ¡æ‰§è¡ŒæœŸé—´æŒç»­ç›‘æ§è¿›ç¨‹çŠ¶æ€

**å®æ–½æ­¥éª¤**:
1. åˆ›å»ºç›‘æ§çº¿ç¨‹ï¼Œå®šæœŸæ£€æŸ¥è¿›ç¨‹çŠ¶æ€
2. å¦‚æœè¿›ç¨‹å¼‚å¸¸ï¼Œç«‹å³è®¾ç½®ä»»åŠ¡ä¸ºå¤±è´¥çŠ¶æ€
3. è®°å½•è¿›ç¨‹å¼‚å¸¸çš„æ—¶é—´å’ŒåŸå› 

**ä»£ç å®ç°**:
```python
# åœ¨ fastapi_app.py ä¸­æ·»åŠ è¿›ç¨‹ç›‘æ§çº¿ç¨‹
def monitor_processes(work_process, video_write_process, task_id, stop_event):
    """ç›‘æ§è¿›ç¨‹çŠ¶æ€"""
    while not stop_event.is_set():
        if not check_process_health(work_process, video_write_process, task_id):
            break
        time.sleep(1)  # æ¯ç§’æ£€æŸ¥ä¸€æ¬¡
```

### æ–¹æ¡ˆä¸‰ï¼šå¢åŠ è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆä¸­æœŸæ–¹æ¡ˆï¼‰

#### 3.1 é‡è¯•ç­–ç•¥
**ç›®æ ‡**: å¯¹äºä¸´æ—¶æ€§é”™è¯¯ï¼Œè‡ªåŠ¨é‡è¯•ä»»åŠ¡

**å®æ–½æ­¥éª¤**:
1. å®šä¹‰å¯é‡è¯•çš„é”™è¯¯ç±»å‹ï¼ˆå¦‚é˜Ÿåˆ—è¶…æ—¶ã€è¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼‰
2. å®ç°é‡è¯•é€»è¾‘ï¼Œæœ€å¤šé‡è¯•3æ¬¡
3. è®°å½•é‡è¯•å†å²å’ŒåŸå› 

**ä»£ç å®ç°**:
```python
# åœ¨ fastapi_app.py ä¸­æ·»åŠ é‡è¯•æœºåˆ¶
def retry_task(request, max_retries=3):
    """é‡è¯•ä»»åŠ¡"""
    for attempt in range(max_retries):
        try:
            # æ‰§è¡Œä»»åŠ¡
            result = execute_task(request)
            if result[0] == Status.success:
                return result
        except Exception as e:
            if attempt < max_retries - 1:
                logger.warning(f"ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå‡†å¤‡é‡è¯• ({attempt + 1}/{max_retries}): {str(e)}")
                time.sleep(2 ** attempt)  # æŒ‡æ•°é€€é¿
            else:
                logger.error(f"ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå·²é‡è¯• {max_retries} æ¬¡: {str(e)}")
                raise
    return None
```

### æ–¹æ¡ˆå››ï¼šæ”¹è¿›èµ„æºæ¸…ç†ï¼ˆé•¿æœŸæ–¹æ¡ˆï¼‰

#### 4.1 èµ„æºæ¸…ç†æœºåˆ¶
**ç›®æ ‡**: ç¡®ä¿æ‰€æœ‰èµ„æºéƒ½è¢«æ­£ç¡®æ¸…ç†ï¼Œé¿å…èµ„æºæ³„æ¼

**å®æ–½æ­¥éª¤**:
1. åœ¨ä»»åŠ¡å®Œæˆåï¼Œç¡®ä¿æ‰€æœ‰è¿›ç¨‹éƒ½è¢«æ­£ç¡®ç»ˆæ­¢
2. æ¸…ç†æ‰€æœ‰é˜Ÿåˆ—å’Œé”
3. é‡Šæ”¾ GPU èµ„æº

**ä»£ç å®ç°**:
```python
# åœ¨ fastapi_app.py ä¸­æ·»åŠ èµ„æºæ¸…ç†
def cleanup_resources(work_process, video_write_process, queues):
    """æ¸…ç†èµ„æº"""
    try:
        # ç»ˆæ­¢è¿›ç¨‹
        if work_process is not None and work_process.is_alive():
            work_process.terminate()
            work_process.join(timeout=5)
            if work_process.is_alive():
                work_process.kill()
        
        if video_write_process is not None and video_write_process.is_alive():
            video_write_process.terminate()
            video_write_process.join(timeout=5)
            if video_write_process.is_alive():
                video_write_process.kill()
        
        # æ¸…ç†é˜Ÿåˆ—
        for queue in queues:
            try:
                while not queue.empty():
                    queue.get_nowait()
            except:
                pass
    except Exception as e:
        logger.error(f"èµ„æºæ¸…ç†å¤±è´¥: {str(e)}")
```

#### 4.2 èµ„æºç›‘æ§
**ç›®æ ‡**: ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µï¼ŒåŠæ—¶å‘ç°èµ„æºæ³„æ¼

**å®æ–½æ­¥éª¤**:
1. å®šæœŸæ£€æŸ¥è¿›ç¨‹æ•°é‡
2. ç›‘æ§é˜Ÿåˆ—å¤§å°
3. ç›‘æ§ GPU å†…å­˜ä½¿ç”¨

**ä»£ç å®ç°**:
```python
# åœ¨ fastapi_app.py ä¸­æ·»åŠ èµ„æºç›‘æ§
def monitor_resources():
    """ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ"""
    import psutil
    
    # æ£€æŸ¥è¿›ç¨‹æ•°é‡
    process_count = len([p for p in psutil.process_iter() if 'python' in p.name().lower()])
    logger.info(f"å½“å‰ Python è¿›ç¨‹æ•°é‡: {process_count}")
    
    # æ£€æŸ¥ GPU å†…å­˜
    # ... GPU å†…å­˜æ£€æŸ¥ä»£ç  ...
    
    # æ£€æŸ¥é˜Ÿåˆ—å¤§å°
    # ... é˜Ÿåˆ—å¤§å°æ£€æŸ¥ä»£ç  ...
```

## ğŸ“Š å®æ–½æ–¹æ¡ˆä¼˜å…ˆçº§

### ä¼˜å…ˆçº§ 1ï¼šç«‹å³å®æ–½ï¼ˆçŸ­æœŸæ–¹æ¡ˆï¼‰
1. **å¢å¼ºé”™è¯¯ä¿¡æ¯æ•è·å’Œä¼ é€’**
   - æ”¹è¿›é˜Ÿåˆ—å¼‚å¸¸å¤„ç†
   - æ”¹è¿› task_dic æ›´æ–°æœºåˆ¶
   - é¢„è®¡è€—æ—¶ï¼š2-4å°æ—¶
   - é£é™©ï¼šä½
   - æ”¶ç›Šï¼šé«˜

### ä¼˜å…ˆçº§ 2ï¼šè¿‘æœŸå®æ–½ï¼ˆä¸­æœŸæ–¹æ¡ˆï¼‰
2. **å¢åŠ è¿›ç¨‹å¥åº·æ£€æŸ¥**
   - è¿›ç¨‹å¥åº·æ£€æŸ¥æœºåˆ¶
   - è¿›ç¨‹ç›‘æ§çº¿ç¨‹
   - é¢„è®¡è€—æ—¶ï¼š4-8å°æ—¶
   - é£é™©ï¼šä¸­
   - æ”¶ç›Šï¼šé«˜

3. **å¢åŠ è‡ªåŠ¨é‡è¯•æœºåˆ¶**
   - é‡è¯•ç­–ç•¥
   - é‡è¯•é€»è¾‘
   - é¢„è®¡è€—æ—¶ï¼š4-8å°æ—¶
   - é£é™©ï¼šä¸­
   - æ”¶ç›Šï¼šä¸­

### ä¼˜å…ˆçº§ 3ï¼šé•¿æœŸå®æ–½ï¼ˆé•¿æœŸæ–¹æ¡ˆï¼‰
4. **æ”¹è¿›èµ„æºæ¸…ç†**
   - èµ„æºæ¸…ç†æœºåˆ¶
   - èµ„æºç›‘æ§
   - é¢„è®¡è€—æ—¶ï¼š8-16å°æ—¶
   - é£é™©ï¼šä¸­
   - æ”¶ç›Šï¼šä¸­

## ğŸ”§ å®æ–½æ­¥éª¤

### æ­¥éª¤ 1ï¼šå¢å¼ºé”™è¯¯ä¿¡æ¯æ•è·å’Œä¼ é€’
1. ä¿®æ”¹ `fastapi_app.py` ä¸­çš„ `write_video_service` å‡½æ•°
2. å¢å¼ºå¼‚å¸¸å¤„ç†ï¼Œç¡®ä¿é”™è¯¯ä¿¡æ¯è¢«æ­£ç¡®ä¼ é€’
3. æµ‹è¯•é”™è¯¯ä¿¡æ¯ä¼ é€’æ˜¯å¦æ­£å¸¸

### æ­¥éª¤ 2ï¼šæ”¹è¿› task_dic æ›´æ–°æœºåˆ¶
1. åˆ†æ `trans_dh_service.py` ä¸­çš„ `work` æ–¹æ³•
2. å¢å¼ºå¼‚å¸¸å¤„ç†ï¼Œç¡®ä¿é”™è¯¯ä¿¡æ¯è¢«æ­£ç¡®æ›´æ–°åˆ° `task_dic`
3. æµ‹è¯•é”™è¯¯ä¿¡æ¯æ›´æ–°æ˜¯å¦æ­£å¸¸

### æ­¥éª¤ 3ï¼šå¢åŠ è¿›ç¨‹å¥åº·æ£€æŸ¥
1. å®ç°è¿›ç¨‹å¥åº·æ£€æŸ¥å‡½æ•°
2. åˆ›å»ºè¿›ç¨‹ç›‘æ§çº¿ç¨‹
3. æµ‹è¯•è¿›ç¨‹å¥åº·æ£€æŸ¥æ˜¯å¦æ­£å¸¸

### æ­¥éª¤ 4ï¼šå¢åŠ è‡ªåŠ¨é‡è¯•æœºåˆ¶
1. å®šä¹‰å¯é‡è¯•çš„é”™è¯¯ç±»å‹
2. å®ç°é‡è¯•é€»è¾‘
3. æµ‹è¯•é‡è¯•æœºåˆ¶æ˜¯å¦æ­£å¸¸

### æ­¥éª¤ 5ï¼šæ”¹è¿›èµ„æºæ¸…ç†
1. å®ç°èµ„æºæ¸…ç†å‡½æ•°
2. æ·»åŠ èµ„æºç›‘æ§
3. æµ‹è¯•èµ„æºæ¸…ç†æ˜¯å¦æ­£å¸¸

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### çŸ­æœŸæ•ˆæœï¼ˆ1-2å‘¨ï¼‰
- âœ… é”™è¯¯ä¿¡æ¯èƒ½å¤Ÿæ­£ç¡®ä¼ é€’å’Œæ˜¾ç¤º
- âœ… ä»»åŠ¡å¤±è´¥æ—¶èƒ½å¤Ÿè·å–è¯¦ç»†é”™è¯¯åŸå› 
- âœ… é—®é¢˜è¯Šæ–­æ—¶é—´å‡å°‘ 50%

### ä¸­æœŸæ•ˆæœï¼ˆ1-2æœˆï¼‰
- âœ… è¿›ç¨‹å¼‚å¸¸èƒ½å¤ŸåŠæ—¶å‘ç°å’Œå¤„ç†
- âœ… ä¸´æ—¶æ€§é”™è¯¯èƒ½å¤Ÿè‡ªåŠ¨é‡è¯•
- âœ… ä»»åŠ¡æˆåŠŸç‡æé«˜ 10-20%

### é•¿æœŸæ•ˆæœï¼ˆ3-6æœˆï¼‰
- âœ… èµ„æºæ³„æ¼é—®é¢˜å¾—åˆ°è§£å†³
- âœ… ç³»ç»Ÿç¨³å®šæ€§æé«˜
- âœ… è¿ç»´æˆæœ¬é™ä½ 30%

## ğŸ” ç›‘æ§å’Œè¯Šæ–­

### ç›‘æ§æŒ‡æ ‡
1. **ä»»åŠ¡æˆåŠŸç‡**: ä»»åŠ¡æˆåŠŸæ•° / æ€»ä»»åŠ¡æ•°
2. **é”™è¯¯ç‡**: ä»»åŠ¡å¤±è´¥æ•° / æ€»ä»»åŠ¡æ•°
3. **å¹³å‡å¤„ç†æ—¶é—´**: ä»»åŠ¡å¹³å‡å¤„ç†æ—¶é—´
4. **é˜Ÿåˆ—ç­‰å¾…æ—¶é—´**: é˜Ÿåˆ—å¹³å‡ç­‰å¾…æ—¶é—´
5. **è¿›ç¨‹å¼‚å¸¸ç‡**: è¿›ç¨‹å¼‚å¸¸é€€å‡ºæ¬¡æ•° / æ€»ä»»åŠ¡æ•°

### è¯Šæ–­å·¥å…·
1. **é”™è¯¯æ—¥å¿—åˆ†æ**: åˆ†æé”™è¯¯æ—¥å¿—ï¼Œæ‰¾å‡ºå¸¸è§é”™è¯¯æ¨¡å¼
2. **æ€§èƒ½åˆ†æ**: åˆ†æä»»åŠ¡å¤„ç†æ—¶é—´ï¼Œæ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ
3. **èµ„æºç›‘æ§**: ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µï¼ŒåŠæ—¶å‘ç°èµ„æºé—®é¢˜

## ğŸ“ æ³¨æ„äº‹é¡¹

### æ³¨æ„äº‹é¡¹ 1ï¼šå…¼å®¹æ€§
- ç¡®ä¿ä¿®æ”¹åçš„ä»£ç ä¸ç°æœ‰ä»£ç å…¼å®¹
- ç¡®ä¿ä¸ä¼šå½±å“æ­£å¸¸ä»»åŠ¡çš„å¤„ç†

### æ³¨æ„äº‹é¡¹ 2ï¼šæ€§èƒ½
- ç¡®ä¿æ–°å¢çš„ç›‘æ§å’Œæ£€æŸ¥ä¸ä¼šæ˜¾è‘—å½±å“æ€§èƒ½
- ç¡®ä¿é‡è¯•æœºåˆ¶ä¸ä¼šå¯¼è‡´èµ„æºæµªè´¹

### æ³¨æ„äº‹é¡¹ 3ï¼šæµ‹è¯•
- å……åˆ†æµ‹è¯•æ‰€æœ‰ä¿®æ”¹
- ç¡®ä¿é”™è¯¯å¤„ç†é€»è¾‘æ­£ç¡®
- ç¡®ä¿èµ„æºæ¸…ç†é€»è¾‘æ­£ç¡®

## ğŸ¯ æ€»ç»“

### é—®é¢˜æ ¹æº
1. **é˜Ÿåˆ—å¼‚å¸¸å¤„ç†ä¸å½“**: é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œå¼‚å¸¸è¢«æ•è·ä½†é”™è¯¯ä¿¡æ¯æ²¡æœ‰æ­£ç¡®ä¼ é€’
2. **è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†é—®é¢˜**: è¿›ç¨‹å¼‚å¸¸é€€å‡ºæ—¶ï¼Œèµ„æºæ²¡æœ‰æ­£ç¡®æ¸…ç†
3. **é”™è¯¯ä¿¡æ¯ä¼ é€’æœºåˆ¶ä¸å®Œå–„**: å­è¿›ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯æ²¡æœ‰æ­£ç¡®ä¼ é€’åˆ°ä¸»è¿›ç¨‹

### è§£å†³æ–¹æ¡ˆ
1. **çŸ­æœŸæ–¹æ¡ˆ**: å¢å¼ºé”™è¯¯ä¿¡æ¯æ•è·å’Œä¼ é€’
2. **ä¸­æœŸæ–¹æ¡ˆ**: å¢åŠ è¿›ç¨‹å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨é‡è¯•æœºåˆ¶
3. **é•¿æœŸæ–¹æ¡ˆ**: æ”¹è¿›èµ„æºæ¸…ç†å’Œèµ„æºç›‘æ§

### å®æ–½å»ºè®®
1. **ç«‹å³å®æ–½**: å¢å¼ºé”™è¯¯ä¿¡æ¯æ•è·å’Œä¼ é€’
2. **è¿‘æœŸå®æ–½**: å¢åŠ è¿›ç¨‹å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨é‡è¯•æœºåˆ¶
3. **é•¿æœŸå®æ–½**: æ”¹è¿›èµ„æºæ¸…ç†å’Œèµ„æºç›‘æ§

### é¢„æœŸæ•ˆæœ
- é”™è¯¯ä¿¡æ¯èƒ½å¤Ÿæ­£ç¡®ä¼ é€’å’Œæ˜¾ç¤º
- ä»»åŠ¡å¤±è´¥æ—¶èƒ½å¤Ÿè·å–è¯¦ç»†é”™è¯¯åŸå› 
- è¿›ç¨‹å¼‚å¸¸èƒ½å¤ŸåŠæ—¶å‘ç°å’Œå¤„ç†
- ä¸´æ—¶æ€§é”™è¯¯èƒ½å¤Ÿè‡ªåŠ¨é‡è¯•
- èµ„æºæ³„æ¼é—®é¢˜å¾—åˆ°è§£å†³

